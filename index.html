<!doctype html>
<html lang="th">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>Music Chadok</title>

  <!-- ‡∏ü‡∏≠‡∏ô‡∏ï‡πå‡πÑ‡∏ó‡∏¢‡∏≠‡πà‡∏≤‡∏ô‡∏™‡∏ö‡∏≤‡∏¢ -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@300;400;600;700&display=swap" rel="stylesheet">

  <!-- ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç: ‡∏≠‡∏¢‡πà‡∏≤‡πÉ‡∏™‡πà COOP/COEP ‡∏ó‡∏µ‡πà‡πÄ‡∏Ñ‡∏£‡πà‡∏á ‡πÄ‡∏ä‡πà‡∏ô same-origin/require-corp ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡∏à‡∏∞‡∏ö‡∏•‡πá‡∏≠‡∏Å postMessage ‡∏Ç‡∏≠‡∏á OAuth popup -->
  <!-- ‡∏ñ‡πâ‡∏≤‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ popup ‡∏à‡∏£‡∏¥‡∏á‡πÜ ‡πÉ‡∏´‡πâ (‡πÅ‡∏ï‡πà‡πÑ‡∏°‡πà‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥) ‡πÉ‡∏ä‡πâ: <meta http-equiv="Cross-Origin-Opener-Policy" content="same-origin-allow-popups"> -->

  <style>
    :root{
      --bg:#fffdf7; --paper:#ffffff; --ink:#1b2430; --muted:#6b7280;
      --brand:#2f6fea; --brand-ink:#ffffff; --line:#eceff3; --radius:14px;
    }
    *{box-sizing:border-box}
    html,body{margin:0; background:var(--bg); color:var(--ink); font-family:"Sarabun",system-ui,-apple-system,"Segoe UI",Roboto,"Noto Sans Thai",Arial,sans-serif}
    a{color:var(--brand); text-decoration:none}
    header{
      position:sticky; top:0; z-index:10; backdrop-filter:saturate(180%) blur(8px);
      background:rgba(255,253,247,.75); border-bottom:1px solid var(--line);
    }
    .wrap{max-width:960px; margin:0 auto; padding:16px}
    .brand{display:flex; align-items:center; gap:10px}
    .brand b{font-size:20px}
    main{padding:20px 0}
    .card{
      background:var(--paper); border:1px solid var(--line); border-radius:var(--radius);
      box-shadow:0 8px 24px -12px rgba(0,0,0,.12);
      padding:16px; margin:12px 0;
    }
    .btn{
      display:inline-flex; align-items:center; gap:8px; padding:10px 14px; border-radius:12px;
      background:var(--brand); color:var(--brand-ink); border:0; cursor:pointer; font-weight:600;
    }
    .btn.secondary{background:#e5e7eb; color:#111827}
    .grid{
      display:grid; grid-template-columns:1fr; gap:12px;
    }
    @media (min-width:600px){ .grid{ grid-template-columns:1fr 1fr; } }
    footer{color:var(--muted); font-size:13px; padding:24px 0}
    .muted{color:var(--muted)}
    .hide{display:none !important}
  </style>
</head>
<body>
  <header>
    <div class="wrap brand">
      <svg width="24" height="24" viewBox="0 0 24 24" aria-hidden="true"><path fill="currentColor" d="M12 3l7 4v10l-7 4l-7-4V7l7-4Zm0 2.3L6.5 8v8l5.5 2.7L17.5 16V8L12 5.3Z"/></svg>
      <b>Music Chadok</b>
      <span class="muted">‚Ä¢ GitHub Pages</span>
      <span style="margin-left:auto"></span>
      <!-- ‡∏õ‡∏∏‡πà‡∏°‡∏•‡πá‡∏≠‡∏Å‡∏≠‡∏¥‡∏ô (‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏ä‡πâ Firebase ‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á) -->
      <button id="btnLogin" class="btn hide">Sign in with Google</button>
      <button id="btnLogout" class="btn secondary hide">Sign out</button>
    </div>
  </header>

  <main class="wrap">
    <section class="card">
      <h2 style="margin:6px 0 10px">‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏ï‡πâ‡∏≠‡∏ô‡∏£‡∏±‡∏ö üéµ</h2>
      <p class="muted">‡∏ô‡∏µ‡πà‡∏Ñ‡∏∑‡∏≠‡∏´‡∏ô‡πâ‡∏≤ <code>index.html</code> ‡∏ó‡∏µ‡πà‡∏õ‡∏£‡∏±‡∏ö‡πÅ‡∏•‡πâ‡∏ß‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö GitHub Pages ‚Äî ‡πÄ‡∏õ‡∏¥‡∏î‡πÑ‡∏î‡πâ‡∏ó‡∏µ‡πà
        <code>https://tontakankeawpang321-glitch.github.io/musicchadok/</code>
      </p>
      <ul>
        <li>‡∏ß‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå‡∏≠‡∏∑‡πà‡∏ô‡πÜ (‡πÄ‡∏ä‡πà‡∏ô <code>style.css</code>, ‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û) ‡πÑ‡∏ß‡πâ‡∏Ç‡πâ‡∏≤‡∏á‡πÜ <code>index.html</code> (root)</li>
        <li>‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÑ‡∏ü‡∏•‡πå‡πÄ‡∏õ‡∏•‡πà‡∏≤ <code>.nojekyll</code> ‡∏ó‡∏µ‡πà root ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏õ‡∏¥‡∏î Jekyll</li>
        <li>‡∏´‡∏≤‡∏Å‡πÉ‡∏ä‡πâ Google/Firebase OAuth: ‡πÉ‡∏ä‡πâ <b>redirect flow</b> ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏•‡∏î‡∏õ‡∏±‡∏ç‡∏´‡∏≤ COOP/postMessage</li>
      </ul>
    </section>

    <section class="grid">
      <div class="card">
        <h3 style="margin-top:0">‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏•‡∏¥‡∏á‡∏Å‡πå‡∏†‡∏≤‡∏¢‡πÉ‡∏ô</h3>
        <p class="muted">‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏•‡∏¥‡∏á‡∏Å‡πå‡πÅ‡∏ö‡∏ö relative (‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡∏†‡∏≤‡∏¢‡πÉ‡∏ï‡πâ‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå <code>/musicchadok</code>)</p>
        <p><a href="./about.html" target="_blank" rel="noopener">‡πÄ‡∏õ‡∏¥‡∏î about.html</a></p>
      </div>
      <div class="card">
        <h3 style="margin-top:0">‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ</h3>
        <div id="authState" class="muted">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏•‡∏á‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏ä‡πâ</div>
      </div>
    </section>
  </main>

  <footer class="wrap">
    <div>¬© <span id="y"></span> Music Chadok ‚Äî ‡∏à‡∏±‡∏î‡∏ó‡∏≥‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤/‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á</div>
  </footer>

  <!-- ====== Firebase (Redirect Flow) ‚Äî ‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏ä‡πâ‡∏ï‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ ======
       1) ‡πÄ‡∏ï‡∏¥‡∏° firebaseConfig ‡∏Ç‡∏≠‡∏á‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡πá‡∏Å‡∏ï‡πå‡∏Ñ‡∏∏‡∏ì
       2) ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å‡∏Ñ‡∏≠‡∏°‡πÄ‡∏°‡∏ô‡∏ï‡πå‡∏™‡∏Ñ‡∏£‡∏¥‡∏õ‡∏ï‡πå‡∏ô‡∏µ‡πâ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
       3) ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÉ‡∏ô Google Cloud / Firebase
          - Authorized JavaScript origins: https://tontakankeawpang321-glitch.github.io
          - Authorized redirect URIs:     https://tontakankeawpang321-glitch.github.io/musicchadok
             (‡∏´‡∏£‡∏∑‡∏≠ /musicchadok/auth.html ‡∏ñ‡πâ‡∏≤‡∏Ñ‡∏∏‡∏ì‡∏°‡∏µ‡∏´‡∏ô‡πâ‡∏≤ callback ‡πÅ‡∏¢‡∏Å)

  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.13.1/firebase-app.js";
    import { getAuth, GoogleAuthProvider, signInWithRedirect, getRedirectResult, onAuthStateChanged, signOut }
      from "https://www.gstatic.com/firebasejs/10.13.1/firebase-auth.js";

    // TODO: ‡πÉ‡∏™‡πà config ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏≠‡∏á
    const firebaseConfig = {
      apiKey: "YOUR_API_KEY",
      authDomain: "YOUR_PROJECT_ID.firebaseapp.com",
      projectId: "YOUR_PROJECT_ID",
      appId: "YOUR_APP_ID"
    };

    const app  = initializeApp(firebaseConfig);
    const auth = getAuth(app);
    const provider = new GoogleAuthProvider();

    const $ = (id)=>document.getElementById(id);
    const btnLogin  = $("btnLogin");
    const btnLogout = $("btnLogout");
    const authState = $("authState");

    // ‡πÅ‡∏™‡∏î‡∏á‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏ä‡πâ auth
    btnLogin.classList.remove("hide");
    btnLogout.classList.remove("hide");

    btnLogin.addEventListener("click", () => {
      // ‡πÉ‡∏ä‡πâ Redirect flow ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏•‡∏î‡∏õ‡∏±‡∏ç‡∏´‡∏≤ COOP/popup
      signInWithRedirect(auth, provider);
    });

    btnLogout.addEventListener("click", async () => {
      await signOut(auth);
    });

    onAuthStateChanged(auth, (user) => {
      if (user) {
        authState.textContent = `‡∏•‡∏á‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏ä‡πâ: ${user.displayName || user.email || user.uid}`;
      } else {
        authState.textContent = "‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏•‡∏á‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏ä‡πâ";
      }
    });

    // ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏´‡∏•‡∏±‡∏á redirect (optional)
    getRedirectResult(auth).catch((err)=>{
      console.error(err);
    });
  </script>
  ====== ‡∏à‡∏ö‡∏™‡πà‡∏ß‡∏ô Firebase ====== -->

  <script>
    // ‡∏õ‡∏µ‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô‡πÉ‡∏ô footer
    document.getElementById('y').textContent = new Date().getFullYear();
  </script>
</body>
</html>
